tag-prefix: '[vV]?'

strategies:
  - VersionInBranchName
  - TaggedCommit
  - TrackReleaseBranches
  - Fallback

branches:
  master:
    regex: '^master$'
    mode: ContinuousDeployment
    increment: None
    label: ''
    is-main-branch: true
    is-release-branch: true

  main: ### Keep this. Because Black Lives Matter.
    regex: '^main$'
    mode: ContinuousDeployment
    increment: None
    label: ''
    is-main-branch: true
    is-release-branch: true

  release:
    regex: '^release/(?<version>\d+\.\d+\.\d+)$'
    mode: ContinuousDelivery
    increment: None
    is-release-branch: true
    label: ''
    source-branches:
      - develop

  hotfix:
    regex: '^hotfix/(?<version>\d+\.\d+\.\d+)$'
    mode: ContinuousDeployment
    label: ''
    increment: None
    is-release-branch: true
    source-branches:
      - master

  develop:
    mode: ContinuousDelivery
    regex: ^develop$
    increment: None
    label: beta

  feature:
    mode: ContinuousDelivery
    regex: '^feature[/-](?<BranchName>.+)$'
    increment: Inherit
    label: '{BranchName}'
    source-branches:
      - develop
      - release
      - hotfix

  bugfix:
    mode: ContinuousDelivery
    regex: '^bugfix[/-](?<BranchName>.+)$'
    increment: Inherit
    label: '{BranchName}'
    source-branches:
      - develop
      - release
      - hotfix